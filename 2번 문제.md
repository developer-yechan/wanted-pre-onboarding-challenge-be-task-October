# Transport Layer
End Point간 신뢰성 있는 데이터 전송을 담당하는 계층

신뢰성 : 데이터를 순차적 ,안정적인 전달
전송 : 포트 번호에 해당하는 프로세스에 데이터 전달

전송 계층이 문제가 있으면 데이터 손실이 발생한다.

TCP와 UDP는 대표적인 전송 프로토콜

# TCP(Transmission Control Protocol)

## 특징
- 신뢰성 있는 데이터 통신을 가능하게 해주는 프로토콜
- Connection 연결 (3 way-handshake) - 양방향 통신
- 데이터 순차 전송을 보장
- 흐름 제어
- 혼잡 제어
- 오류 감지
- 동시 제어 가능
- 전송 계층에 위치

Segment - TCP 프로토콜의 PDU(Protocal Data Unit)
데이터 스트림으로 부터 데이터를 받아서 이것을 청크 단위로 분할한 뒤 각각에 TCP 헤더를 덧붙여 TCP 세그먼트 생성

3-way handshake 과정을 통해 네트워크 연결을 설정
 
1. Client가 패킷을 송신해 연결 요청 (세션을 설정하는데 사용되며 초기에 시퀀스 번호를 보냄)
2. 서버가 응답으로 SYN/ACK 패킷 송신 (클라이언트로부터패킷을 잘 받았다는 의미)
3. 클라이언트가 SYN/ACK 패킷을 받고 ACK를 서버로 보냄(SYN/ACK 수신 못하면 다시 패킷 송신)

4-way handshake 과정을 통해 네트워크 연결을 해제
- FIN : 세션을 종료시키는데 사용되며, 더 이상 보낼 데이터가 없음을 나타낸다.
1. 클라이언트가 서버에게 연결을 종료한다는 FIN 플래그를 보낸다.
2. 서버는 FIN을 받고, 확인했다는 ACK를 클라이언트에게 보내고 자신의 통신이 끝날 때까지 기다린다.
3. 데이터를 모두 보냈다면 서버는 연결 종료에 합의 한다는 의미로 FIN 패킷을 클라이언트에 보낸 후에 승인번호를 보내줄 때까지 기다린다.
4. 클라이언트는 FIN을 받고 확인했다는 ACK를 서버에게 보낸다


# UDP
TCP보다 신뢰성이 떨어지지만 전송속도가 일반적으로 빠른 프로토콜
- 순차 전송 x
- 흐름 제어 x
- 혼잡 제어 x
- Connectionless (3 way-handshake X) 
- UDP헤더의 CheckSum 필드를 통해 최소한의 오류만 검출
- 비교적 데이터 신뢰성이 중요하지 않을 때 사용 (ex. 영상 스트리밍)
- 
UDP는 할당되는 논리적인 경로가 없고 각각의 패킷이 다른 경로로 전송되고 각각의 패킷은 독립적인 관계를 지닌다.
이렇게 데이터를 서로 다른 경로로 독립 처리하는 프로토콜이 UDP
